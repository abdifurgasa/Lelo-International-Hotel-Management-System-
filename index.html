<!DOCTYPE html>
<html>
<head>
<title>Hotel ERP</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
margin:0;
font-family:Arial;
background:#0f172a;
color:white;
}

input,button{
padding:10px;
margin:5px;
width:200px;
}
</style>

</head>

<body>

<div id="app"></div>

<script>
let app = document.getElementById("app");

/* ---------- LOGIN ---------- */

function loadLogin(){

app.innerHTML=`
<div style="height:100vh;display:flex;justify-content:center;align-items:center">

<div style="background:white;color:black;padding:30px;border-radius:10px">

<h2>Hotel ERP Login</h2>

<input id="username" placeholder="Username"><br>
<input id="password" type="password" placeholder="Password"><br>

<button onclick="login()" style="background:#22c55e;color:white">
Login
</button>

</div>
</div>
`;
}

function login(){

let u=document.getElementById("username").value;
let p=document.getElementById("password").value;

if(u==="admin" && p==="1234"){
localStorage.setItem("login","ok");
loadDashboard();
}else{
alert("Wrong login");
}

}

/* ---------- DASHBOARD ---------- */

function loadDashboard(){

app.innerHTML=`
<div style="display:flex;height:100vh">

<div style="width:250px;background:#020617;padding:20px">

<h2>Hotel ERP</h2>

<button onclick="loadRoomPage()">Room Management</button>
<button onclick="logout()" style="background:red;color:white">
Logout
</button>

</div>

<div id="content" style="flex:1;padding:30px">
<h2>Dashboard Working âœ…</h2>
</div>

</div>
`;
}
/* ---------- ROOM SYSTEM PRO ---------- */

let rooms = JSON.parse(localStorage.getItem("rooms")||"[]");

function saveRooms(){
localStorage.setItem("rooms",JSON.stringify(rooms));
}

function loadRoomPage(){

document.getElementById("content").innerHTML=`

<h2>Room Management</h2>

<input id="roomType" placeholder="Room Type"><br>
<input id="roomPrice" placeholder="Price" type="number"><br>

<input id="roomPhoto" type="file" accept="image/*"><br>

<button onclick="addRoom()"
style="background:#22c55e;color:white">
Add Room
</button>

<div id="roomList" style="display:flex;flex-wrap:wrap"></div>

`;

loadRooms();
}

function addRoom(){

let type=document.getElementById("roomType").value;
let price=document.getElementById("roomPrice").value;
let photoInput=document.getElementById("roomPhoto");

if(!type || !price){
alert("Fill data");
return;
}

let reader=new FileReader();

reader.onload=function(e){

rooms.push({
id:Date.now(),
type,
price,
photo:e.target.result,
status:"Available"
});

saveRooms();
loadRooms();
};

if(photoInput.files[0]){
reader.readAsDataURL(photoInput.files[0]);
}else{

rooms.push({
id:Date.now(),
type,
price,
photo:"",
status:"Available"
});

saveRooms();
loadRooms();
}

}

function loadRooms(){

let list=document.getElementById("roomList");
if(!list) return;

rooms = JSON.parse(localStorage.getItem("rooms")||"[]");

list.innerHTML="";

rooms.forEach(r=>{

list.innerHTML+=`
<div style="background:white;color:black;padding:10px;margin:10px;width:220px;border-radius:8px">

${r.photo?`
<img src="${r.photo}" style="width:100%;height:120px;object-fit:cover;border-radius:6px">
`: ""}

<h4>${r.type}</h4>
Price: ${r.price}<br>
Status: ${r.status}

<br>

<button onclick="toggleRoom(${r.id})"
style="background:blue;color:white">
Toggle
</button>

<button onclick="deleteRoom(${r.id})"
style="background:red;color:white">
Delete
</button>

</div>
`;

});

}

function toggleRoom(id){

rooms=rooms.map(r=>{
if(r.id===id){
r.status = r.status==="Available"?"Booked":"Available";
}
return r;
});

saveRooms();
loadRooms();
}

function deleteRoom(id){

rooms=rooms.filter(r=>r.id!==id);

saveRooms();
loadRooms();
  }

</body>
</html>
